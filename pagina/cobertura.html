<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WOW - Cobertura</title>
  <link rel="stylesheet" href="../estilos/styles.css" />
  <link rel="stylesheet" href="../estilos/cobertura.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <script defer src="../funciones/main.js"></script>
  <script defer src="../animaciones/animaciones.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
  <header>
    <h1>WOW</h1>
    <button class="menu-toggle" aria-label="Abrir menú">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="planes.html">Planes</a>
      <a href="cobertura.html">Cobertura</a>
      <a href="contactos.html">Contacto</a>
    </nav>
  </header>

  <main>
    <!-- Carrusel -->
    <section class="carousel">
      <div class="carousel-images">
        <img src="../fotos/cobertura1.jpg" alt="Cobertura 1">
        <img src="../fotos/cobertura2.jpg" alt="Cobertura 2">
        <img src="../fotos/cobertura3.jpg" alt="Cobertura 3">
      </div>
    </section>

    <!-- Texto introductorio -->
    <section class="intro-section">
      <h2>Nuestra Cobertura Nacional</h2>
      <p>Conectamos a las principales regiones del Ecuador con la mejor tecnología en internet. 
         Explora el mapa y descubre dónde llegamos.</p>
    </section>

    <!-- Regiones -->
    <section id="regiones" class="fade-in">
      <h1 style="text-align:center; margin-bottom: 15px; color: #004080;">Regiones Disponibles</h1>
      <div class="regiones-container">

        <!-- Ejemplo Costa -->
        <div class="region-card">
          <div class="region" onclick="toggleProvincias('costa')">
            <img src="../fotos/costa.png" alt="Costa" class="region-img">
            <h3 class="regiones">Costa</h3>
          </div>
          <div id="costa" class="provincias-list">
            <a href="#" class="provincia-bubble" onclick="event.preventDefault(); moverMapa(-2.170998, -79.922359, 'Guayas');">
              <i class="fas fa-map-marker-alt"></i> Guayas
            </a>
            <a href="#" class="provincia-bubble" onclick="event.preventDefault(); moverMapa(-0.967653, -80.708910, 'Manabí');">
              <i class="fas fa-map-marker-alt"></i> Manabí
            </a>
          </div>
        </div>

        <!-- Ejemplo Sierra -->
        <div class="region-card">
          <div class="region" onclick="toggleProvincias('sierra')">
            <img src="../fotos/sierra.png" alt="Sierra" class="region-img">
            <h3 class="regiones">Sierra</h3>
          </div>
          <div id="sierra" class="provincias-list">
            <a href="#" class="provincia-bubble" onclick="event.preventDefault(); moverMapa(-0.180653, -78.467838, 'Pichincha');">
              <i class="fas fa-map-marker-alt"></i> Pichincha
            </a>
            <a href="#" class="provincia-bubble" onclick="event.preventDefault(); moverMapa(-2.9006, -79.0045, 'Azuay');">
              <i class="fas fa-map-marker-alt"></i> Azuay
            </a>
          </div>
        </div>

        <!-- Ejemplo Oriente -->
        <div class="region-card">
          <div class="region" onclick="toggleProvincias('oriente')">
            <img src="../fotos/oriente.png" alt="Oriente" class="region-img">
            <h3 class="regiones">Oriente</h3>
          </div>
          <div id="oriente" class="provincias-list">
            <a href="#" class="provincia-bubble" onclick="event.preventDefault(); moverMapa(-0.9891, -77.8120, 'Napo');">
              <i class="fas fa-map-marker-alt"></i> Napo
            </a>
          </div>
        </div>

      </div>
    </section>

    <!-- Mapa -->
    <section id="mapa">
      <h1 style="text-align:center; margin-top: 20px; color: #004080; font-size: 3rem;">Mapa de Cobertura</h1>
      <p style="text-align:center; color:#555;">Selecciona tu provincia o navega en el mapa para descubrir si llegamos a tu localidad.</p>
      <div id="map"></div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-section redes-sociales">
        <h4>Redes Sociales</h4>
        <a href="#"><i class="fab fa-facebook-square"></i> Facebook</a>
        <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
        <a href="#"><i class="fab fa-twitter-square"></i> Twitter</a>
      </div>
      <div class="footer-section correo">
        <h4>Correo Electrónico</h4>
        <a href="mailto:contacto@wow.com">contacto@wow.com</a>
      </div>
      <div class="footer-section contacto-general">
        <h4>Contacto General</h4>
        <p>Teléfono: +593 99 123 4567</p>
        <p>Dirección: Av. Futuro 123, Ciudad WOW</p>
      </div>
    </div>
    <div class="footer-bottom">&copy; 2025 WOW Internet. Todos los derechos reservados.</div>
  </footer>

  <script>
    // Carrusel automático
    let currentIndex = 0;
    const slides = document.querySelectorAll(".carousel-images img");
    function moveSlide(step) {
      currentIndex = (currentIndex + step + slides.length) % slides.length;
      document.querySelector(".carousel-images").style.transform = `translateX(-${currentIndex * 100}%)`;
    }
    setInterval(() => moveSlide(1), 5000);

    // Mapa Leaflet
    var map = L.map('map').setView([-0.180653, -78.467838], 7);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19
    }).addTo(map);

    var marker;
    function moverMapa(lat, lng, nombre) {
      if (marker) map.removeLayer(marker);
      map.setView([lat, lng], 10);
      marker = L.marker([lat, lng]).addTo(map)
        .bindPopup("<b>" + nombre + "</b>")
        .openPopup();
      document.getElementById("map").scrollIntoView({ behavior: "smooth" });
    }

    // Provincias desplegables
    function toggleProvincias(regionId) {
      const todasListas = document.querySelectorAll('.provincias-list');
      const listaSeleccionada = document.getElementById(regionId);

      todasListas.forEach(lista => {
        if (lista !== listaSeleccionada) lista.classList.remove('visible');
      });

      listaSeleccionada.classList.toggle('visible');
    }
  </script>
</body>
</html>
